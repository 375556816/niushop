
<section class="ns-base-section">



    <div style="position:relative;margin:0;">
        <!-- 面包屑导航 -->
        <div class="breadcrumb-nav">
            <a href="http://www.ns.com/index.php?s=/admin">Niushop开源商城</a>
            <i class="fa fa-angle-right"></i>
            <a href="http://www.ns.com/index.php?s=/admin/account/shopsalesaccount">数据</a>
            <i class="fa fa-angle-right"></i>
            <!-- 需要加跳转链接用这个：http://www.ns.com/index.php/admin/account/shopgoodsgroupsalecount -->
            <a href="javascript:;" style="color:#999;">同行热卖</a>
        </div>
        <!-- 三级导航菜单 -->


        <div class="right-side-operation">
            <ul>


                <!-- 					style="display:none;" style="display:block;" -->
                <li>
                    <a class="js-open-warmp-prompt" href="javascript:;" data-menu-desc=""><i class="fa fa-question-circle"></i>&nbsp;提示</a>
                    <div class="popover">
                        <div class="arrow"></div>
                        <div class="popover-content">
                            <div>
                                <h4>功能提示</h4>
                                <p class="function-prompts">
                                    1、符合以下任何一种条件的订单即为有效订单：a）采用在线支付方式支付并且已付款；b）采用货到付款方式支付并且交易已完成<br>
                                    2、图表展示了符合搜索条件的有效订单中的下单总金额和下单商品总数排名前30位的商品
                                </p>
                            </div>
                        </div>
                    </div>
                </li>

            </ul>
        </div>
    </div>

    <!-- 操作提示 -->

    <!-- 		 -->
    <div class="ns-warm-prompt" style="display:none;">
        <div class="alert alert-info">
            <button type="button" class="close">×</button>
            <h4>
                <!-- 					{1block name="alert_info"} -->
                <!-- 					<i class="fa fa-info-circle"></i> -->
                <!-- 					<span class="operating-hints">操作提示</span> -->
                <!-- 						 -->
                <!-- 					{1/block} -->
            </h4>
        </div>
    </div>


    <div class="ns-main">


        <input type="hidden" name="act" value="statistics_goods">
        <input type="hidden" name="op" value="hotgoods">
        <table class="mytable">
            <tbody><tr>
                <td width="100%">
                    <style>
                        .goodsCategory{width: 148px;height: 300px;border: 1px solid #CCCCCC;position: absolute;z-index: 100;background: #fff;right: 0;display: none;overflow-y: auto;top: 31px;}
                        .goodsCategory::-webkit-scrollbar{width: 3px;}
                        .goodsCategory::-webkit-scrollbar-track{-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);border-radius: 10px;background-color: #fff;}
                        .goodsCategory::-webkit-scrollbar-thumb{height: 20px;border-radius: 10px;-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);background-color: #ccc;}
                        .goodsCategory ul{height: 280px;margin-top: -2px;margin-left: 0;}
                        .goodsCategory ul li{text-align: left;padding:0 10px;line-height: 30px;}
                        .goodsCategory ul li i{float: right;line-height: 30px;}
                        .goodsCategory ul li:hover{cursor: pointer;}
                        .goodsCategory ul li:hover,.goodsCategory ul li.selected{background: #0059d6;color: #fff;}
                        .goodsCategory ul li span{width: 110px;display: inline-block;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;vertical-align: middle;font-size:12px;}
                        .two{left: 150px;border-left:0;}
                        .three{left: 299px;width: 148px;border-left:0;}
                        .selectGoodsCategory{width: 218px;height: 45px;border:1px solid #CCCCCC;position: absolute;z-index: 100;left: 0;margin-top: 299px;border-collapse: collapse;background: #fff;display: none;}
                        .selectGoodsCategory a{display: block;height: 30px;width: 100px;text-align: center;color: #fff;line-height: 30px;margin:8px;background: #126AE4;text-decoration:none;}
                    </style>

                    商品分类：
                    <div style="display: inline-block;position: relative;">
                        <input type="text" placeholder="请选择商品分类" id="goodsCategoryOne" is_show="false" class="input-common middle">
                        <div class="goodsCategory one">
                            <ul>
                            </ul>
                        </div>
                        <div class="goodsCategory two" style="border-left:0;">
                            <ul id="goodsCategoryTwo"></ul>
                        </div>
                        <div class="goodsCategory three">
                            <ul id="goodsCategoryThree"></ul>
                        </div>
                        <div class="selectGoodsCategory">
                            <a href="javascript:;" id="confirmSelect" style="float:right;">确认选择</a>
                        </div>
                        <input type="hidden" id="category_id_1">
                        <input type="hidden" id="category_id_2">
                        <input type="hidden" id="category_id_3">
                    </div>

                    <script>
                        $("#goodsCategoryOne").click(function(){
                            var isShow = $("#goodsCategoryOne").attr('is_show');
                            if(isShow == "false"){
                                $(".one").show();
                                $(".selectGoodsCategory").css({
                                    'width' : 148,
                                    'right' : 580
                                });
                                $(".selectGoodsCategory").show();
                                $("#goodsCategoryOne").attr('is_show','true');
                                $(".js-mask-category").show();
                            }else{
                                $(".one").hide();
                                $(".two").hide();
                                $(".three").hide();
                                $(".selectGoodsCategory").css({
                                    'width' : 148,
                                    'right' : 580
                                });
                                $(".selectGoodsCategory").hide();
                                $("#goodsCategoryOne").attr('is_show','false');
                            }
                        });

                        $(".js-mask-category").click(function(){
                            $(".one").hide();
                            $(".selectGoodsCategory").hide();
                            $(".two").hide();
                            $(".three").hide();
                            $("#goodsCategoryOne").attr('is_show', 'false');
                            $(this).hide();
                        });

                        $(".js-category-one").click(function(){
                            parentId = $(this).attr("category_id");
                            category_name = $(this).text();
                            $(".one ul li").not($(this)).removeClass("selected");
                            $(this).addClass("selected");
                            $("#goodsCategoryOne").val($.trim(category_name)+">");
                            $("#category_id_1").val(parentId);
                            $("#category_id_2").val('');
                            $("#category_id_3").val('');
                            $.ajax({
                                type : 'post',
                                url : "http://www.ns.com/index.php?s=/admin/goods/getcategorybyparentajax",
                                data : {"parentId":parentId},
                                success : function(data){
                                    if(data.length>0){
                                        var html = '';
                                        for (var i = 0; i < data.length; i++) {
                                            html += '<li class="js-category-two" category_id="'+data[i]['category_id']+'">'+data[i]['category_name'];
                                            if(data[i]['is_parent'] == 1){
                                                html += '<i class="fa fa-angle-right fa-lg"></i>';
                                            }
                                            html += '</li>';
                                        }
                                        $("#goodsCategoryTwo").html(html);
                                        $(".two").show();
                                        $(".selectGoodsCategory").css({
                                            'width' : 297,
                                            'right' : 361
                                        });
                                    }else{
                                        $(".one").hide();
                                        $(".two").hide();
                                        $(".js-mask-category").hide();
                                        $(".selectGoodsCategory").hide();
                                        $("#goodsCategoryOne").attr('is_show', 'false');
                                    }
                                    $(".three").hide();
                                }
                            });
                            return false;
                        });

                        $(".js-category-two").live("click",function(event){
                            var parentId = $(this).attr("category_id");
                            var category_name = $(this).text();
                            $(".two ul li").not($(this)).removeClass("selected");
                            $(this).addClass("selected");
                            var goodsCategoryOne = $("#goodsCategoryOne").val();
                            $("#goodsCategoryOne").val(goodsCategoryOne+''+category_name+'>');
                            $("#category_id_2").val(parentId);
                            $("#category_id_3").val('');
                            $.ajax({
                                type : 'post',
                                url : "http://www.ns.com/index.php?s=/admin/goods/getcategorybyparentajax",
                                data : {"parentId":parentId},
                                success : function(data){
                                    if(data.length>0){
                                        var html = '';
                                        for (var i = 0; i < data.length; i++) {
                                            html += '<li onclick="goodsCategoryThree(this);" category_id="'+data[i]['category_id']+'">'+data[i]['category_name']+'<i class="fa fa-angle-right fa-lg"></i></li>';
                                        }
                                        $("#goodsCategoryThree").html(html);
                                        $(".three").show();
                                        $(".selectGoodsCategory").css({
                                            'width' : 446,
                                            'right' : 162
                                        });
                                    }else{
                                        $(".one").hide();
                                        $(".two").hide();
                                        $(".three").hide();
                                        $(".selectGoodsCategory").hide();
                                        $(".js-mask-category").hide();
                                        $("#goodsCategoryOne").attr('is_show', 'false');
                                    }
                                }
                            })
                            event.stopPropagation();
                        });

                        function goodsCategoryThree(obj){
                            var parentId = $(obj).attr("category_id");
                            var category_name = $(obj).text();
                            $(".three ul li").not($(obj)).removeClass("selected");
                            $(obj).addClass("selected");
                            var goodsCategoryOne = $("#goodsCategoryOne").val();
                            $("#goodsCategoryOne").val(goodsCategoryOne+''+category_name);
                            $("#category_id_3").val(parentId);
                            $(".one").hide();
                            $(".two").hide();
                            $(".three").hide();
                            $(".selectGoodsCategory").hide();
                            $(".js-mask-category").hide();

                            $(".selectGoodsCategory").css({
                                'width' : 218,
                                'right' : 580
                            });
                            $("#goodsCategoryOne").attr('is_show','false');
                        }

                        $("#confirmSelect").click(function(){
                            $(".one").hide();
                            $(".two").hide();
                            $(".three").hide();
                            $(".selectGoodsCategory").hide();
                            $(".selectGoodsCategory").css({
                                'width' : 218,
                                'right' : 580
                            });
                        })
                    </script>
                    &nbsp;&nbsp;<span>统计方式：</span>
                    <div class="selectric-wrapper selectric-querySelect selectric-select-common selectric-middle" style="width: 150px;"><div class="selectric-hide-select"><select id="date" class="querySelect select-common middle" tabindex="-1">
                        <option value="1">按照天统计</option>
                        <option value="3">按照周统计</option>
                        <option value="4">按照月统计</option>
                    </select></div><div class="selectric"><span class="selectric-label">按照天统计</span><button class="selectric-button">▾</button></div><div class="selectric-items" tabindex="-1"><div class="selectric-scroll"><ul><li data-index="0" class="selected" title="按照天统计">按照天统计</li><li data-index="1" class="" title="按照周统计">按照周统计</li><li data-index="2" class="last" title="按照月统计">按照月统计</li></ul></div></div><input class="selectric-input" tabindex="0"></div>
                    &nbsp;&nbsp;<button class="btn-common" onclick="searchGoodsSale();" value="搜索">搜索</button>
                </td>
            </tr>
            </tbody></table>
        <!-- <table class="search-form">
            <tbody>
                <tr>
                    <td>
                        <div class="fr">
                            <label class="submit-border">
                                <button class="btn-common" onclick="searchGoodsSale();" value="搜索">搜索</button>
                            </label>
                        </div>
                        <div class="fr">
                            <div class="fl" style="margin-right:3px;">
                                <span>商品分类：</span>
                                <select id="category_id_1" data-level="1"class="select-common middle" onchange="ClickHasSubCategory(this)">
                                    <option value="0" selected>请选择</option>
                                                            </select>
                                <span>统计方式：</span>
                                <select id="date" class="querySelect select-common middle">
                                    <option value="1">按照天统计</option>
                                    <option value="3">按照周统计</option>
                                    <option value="4">按照月统计</option>
                                </select>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table> -->
        <nav class="option-nav">
            <ul>
                <li class="selected"><a href="javascript:;" onclick="getGoodsSalesCharts(1)">下单金额</a></li>
                <li><a href="javascript:;" onclick="getGoodsSalesCharts(2)">下单商品数</a></li>
            </ul>
        </nav>
        <div id="orderamount_div" class="ui-tabs-panel" style="display: block;">
            <div id="container_ordergamount" data-highcharts-chart="1">
                <div class="highcharts-container" id="highcharts-2" style="width:99%;position: relative;overflow: hidden;height: 400px; text-align: left;font-size: 12px;" data-highcharts-chart="0"><div id="highcharts-g6a85pd-0" style="position: relative; overflow: hidden; width: 1175px; height: 400px; text-align: left; line-height: normal; z-index: 0; left: 0px; top: 0px;" class="highcharts-container "><svg version="1.1" class="highcharts-root" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif;font-size:12px;" xmlns="http://www.w3.org/2000/svg" width="1175" height="400"><desc>Created with Highcharts 5.0.6</desc><defs><clipPath id="highcharts-g6a85pd-1"><rect x="0" y="0" width="1129" height="332" fill="none"></rect></clipPath></defs><rect fill="#ffffff" class="highcharts-background" x="0" y="0" width="1175" height="400" rx="0" ry="0"></rect><rect fill="none" class="highcharts-plot-background" x="36" y="53" width="1129" height="332"></rect><g class="highcharts-plot-lines-0"></g><g class="highcharts-plot-lines-0"><path fill="none" stroke="#808080" stroke-width="1" visibility="hidden"></path></g><rect fill="none" class="highcharts-plot-border" x="36" y="53" width="1129" height="332"></rect><g class="highcharts-grid highcharts-xaxis-grid "></g><g class="highcharts-grid highcharts-yaxis-grid "></g><g class="highcharts-axis highcharts-xaxis "><path fill="none" class="highcharts-axis-line" stroke="#ccd6eb" stroke-width="1" d="M 36 385.5 L 1165 385.5"></path></g><g class="highcharts-axis highcharts-yaxis "><text x="26" text-anchor="middle" transform="translate(0,0) rotate(270 26 219)" class="highcharts-axis-title" style="color:#666666;fill:#666666;" y="219">元</text><path fill="none" class="highcharts-axis-line" d="M 36 53 L 36 385"></path></g><g class="highcharts-series-group"><g class="highcharts-series highcharts-series-0 highcharts-line-series highcharts-color-0 highcharts-series-hover" transform="translate(36,53) scale(1 1)" clip-path="url(#highcharts-g6a85pd-1)" width="332" height="1129"></g><g class="highcharts-markers highcharts-series-0 highcharts-line-series highcharts-color-0 highcharts-tracker highcharts-series-hover" transform="translate(36,53) scale(1 1)" clip-path="none" width="332" height="1129"></g></g><g class="highcharts-button highcharts-contextbutton" style="cursor:pointer;" stroke-linecap="round" transform="translate(1141,10)"><title>Chart context menu</title><rect fill="#ffffff" class=" highcharts-button-box" x="0.5" y="0.5" width="24" height="22" rx="2" ry="2" stroke="none" stroke-width="1"></rect><path fill="#666666" d="M 6 6.5 L 20 6.5 M 6 11.5 L 20 11.5 M 6 16.5 L 20 16.5" class="highcharts-button-symbol" stroke="#666666" stroke-width="3"></path><text x="0" style="font-weight:normal;color:#333333;fill:#333333;" y="12"></text></g><g class="highcharts-axis-labels highcharts-xaxis-labels "></g><g class="highcharts-axis-labels highcharts-yaxis-labels "></g></svg><span style="font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 18px; position: absolute; white-space: nowrap; margin-left: 0px; margin-top: 0px; left: 526px; top: 7px; color: rgb(51, 51, 51);" class="highcharts-title" transform="translate(0,0)">热卖商品top30</span></div></div>
            </div>
        </div>

        <div id="goodsnum_div" class="ui-tabs-panel ui-tabs-hide hide" style="display: none;">
            <div id="container_goodsnum" data-highcharts-chart="0">
                <div class="highcharts-container" id="highcharts-0" style="width:99%;position: relative;overflow: hidden;height: 400px; text-align: left;font-size: 12px;" data-highcharts-chart="1"><div id="highcharts-g6a85pd-4" style="position: relative; overflow: hidden; width: 1336px; height: 400px; text-align: left; line-height: normal; z-index: 0; left: 0px; top: 0px;" class="highcharts-container "><svg version="1.1" class="highcharts-root" style="font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif;font-size:12px;" xmlns="http://www.w3.org/2000/svg" width="1336" height="400"><desc>Created with Highcharts 5.0.6</desc><defs><clipPath id="highcharts-g6a85pd-5"><rect x="0" y="0" width="1268" height="307" fill="none"></rect></clipPath></defs><rect fill="#ffffff" class="highcharts-background" x="0" y="0" width="1336" height="400" rx="0" ry="0"></rect><rect fill="none" class="highcharts-plot-background" x="58" y="53" width="1268" height="307"></rect><g class="highcharts-plot-lines-0"><path fill="none" stroke="#808080" stroke-width="1" d="M 58 207.5 L 1326 207.5"></path></g><g class="highcharts-grid highcharts-xaxis-grid "><path fill="none" class="highcharts-grid-line" d="M 99.5 53 L 99.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 142.5 53 L 142.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 184.5 53 L 184.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 226.5 53 L 226.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 268.5 53 L 268.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 311.5 53 L 311.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 353.5 53 L 353.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 395.5 53 L 395.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 437.5 53 L 437.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 480.5 53 L 480.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 522.5 53 L 522.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 564.5 53 L 564.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 606.5 53 L 606.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 649.5 53 L 649.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 691.5 53 L 691.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 733.5 53 L 733.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 776.5 53 L 776.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 818.5 53 L 818.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 860.5 53 L 860.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 902.5 53 L 902.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 945.5 53 L 945.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 987.5 53 L 987.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1029.5 53 L 1029.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1071.5 53 L 1071.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1114.5 53 L 1114.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1156.5 53 L 1156.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1198.5 53 L 1198.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1240.5 53 L 1240.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1283.5 53 L 1283.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 1325.5 53 L 1325.5 360" opacity="1"></path><path fill="none" class="highcharts-grid-line" d="M 57.5 53 L 57.5 360" opacity="1"></path></g><g class="highcharts-grid highcharts-yaxis-grid "><path fill="none" stroke="#e6e6e6" stroke-width="1" class="highcharts-grid-line" d="M 58 207.5 L 1326 207.5" opacity="1"></path></g><rect fill="none" class="highcharts-plot-border" x="58" y="53" width="1268" height="307"></rect><g class="highcharts-axis highcharts-xaxis "><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 99.5 360 L 99.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 142.5 360 L 142.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 184.5 360 L 184.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 226.5 360 L 226.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 268.5 360 L 268.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 311.5 360 L 311.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 353.5 360 L 353.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 395.5 360 L 395.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 437.5 360 L 437.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 480.5 360 L 480.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 522.5 360 L 522.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 564.5 360 L 564.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 606.5 360 L 606.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 649.5 360 L 649.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 691.5 360 L 691.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 733.5 360 L 733.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 776.5 360 L 776.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 818.5 360 L 818.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 860.5 360 L 860.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 902.5 360 L 902.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 945.5 360 L 945.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 987.5 360 L 987.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1029.5 360 L 1029.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1071.5 360 L 1071.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1114.5 360 L 1114.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1156.5 360 L 1156.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1198.5 360 L 1198.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1240.5 360 L 1240.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1283.5 360 L 1283.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 1326.5 360 L 1326.5 370" opacity="1"></path><path fill="none" class="highcharts-tick" stroke="#ccd6eb" stroke-width="1" d="M 57.5 360 L 57.5 370" opacity="1"></path><path fill="none" class="highcharts-axis-line" stroke="#ccd6eb" stroke-width="1" d="M 58 360.5 L 1326 360.5"></path></g><g class="highcharts-axis highcharts-yaxis "><text x="26.050000190734863" text-anchor="middle" transform="translate(0,0) rotate(270 26.050000190734863 206.5)" class="highcharts-axis-title" style="color:#666666;fill:#666666;" y="206.5">件</text><path fill="none" class="highcharts-axis-line" d="M 58 53 L 58 360"></path></g><g class="highcharts-series-group"><g class="highcharts-series highcharts-series-0 highcharts-line-series highcharts-color-0 " transform="translate(58,53) scale(1 1)" clip-path="url(#highcharts-g6a85pd-5)" width="307" height="1268"><path fill="none" d="M 21.133333333333 153.5 L 63.4 153.5 L 105.66666666667 153.5 L 147.93333333333 153.5 L 190.2 153.5 L 232.46666666667 153.5 L 274.73333333333 153.5 L 317 153.5 L 359.26666666667 153.5 L 401.53333333333 153.5 L 443.8 153.5 L 486.06666666667 153.5 L 528.33333333333 153.5 L 570.6 153.5 L 612.86666666667 153.5 L 655.13333333333 153.5 L 697.4 153.5 L 739.66666666667 153.5 L 781.93333333333 153.5 L 824.2 153.5 L 866.46666666667 153.5 L 908.73333333333 153.5 L 951 153.5 L 993.26666666667 153.5 L 1035.5333333333 153.5 L 1077.8 153.5 L 1120.0666666667 153.5 L 1162.3333333333 153.5 L 1204.6 153.5 L 1246.8666666667 153.5" class="highcharts-graph" stroke="#7cb5ec" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"></path><path fill="none" d="M 11.133333333332999 153.5 L 21.133333333333 153.5 L 63.4 153.5 L 105.66666666667 153.5 L 147.93333333333 153.5 L 190.2 153.5 L 232.46666666667 153.5 L 274.73333333333 153.5 L 317 153.5 L 359.26666666667 153.5 L 401.53333333333 153.5 L 443.8 153.5 L 486.06666666667 153.5 L 528.33333333333 153.5 L 570.6 153.5 L 612.86666666667 153.5 L 655.13333333333 153.5 L 697.4 153.5 L 739.66666666667 153.5 L 781.93333333333 153.5 L 824.2 153.5 L 866.46666666667 153.5 L 908.73333333333 153.5 L 951 153.5 L 993.26666666667 153.5 L 1035.5333333333 153.5 L 1077.8 153.5 L 1120.0666666667 153.5 L 1162.3333333333 153.5 L 1204.6 153.5 L 1246.8666666667 153.5 L 1256.8666666667 153.5" stroke-linejoin="round" visibility="visible" stroke="rgba(192,192,192,0.0001)" stroke-width="22" class="highcharts-tracker"></path></g><g class="highcharts-markers highcharts-series-0 highcharts-line-series highcharts-color-0 highcharts-tracker" transform="translate(58,53) scale(1 1)" clip-path="url(#highcharts-g6a85pd-6)" width="307" height="1268"><path fill="#7cb5ec" d="M 1246 150 C 1251.328 150 1251.328 158 1246 158 C 1240.672 158 1240.672 150 1246 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 1204 150 C 1209.328 150 1209.328 158 1204 158 C 1198.672 158 1198.672 150 1204 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 1162 150 C 1167.328 150 1167.328 158 1162 158 C 1156.672 158 1156.672 150 1162 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 1120 150 C 1125.328 150 1125.328 158 1120 158 C 1114.672 158 1114.672 150 1120 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 1077 150 C 1082.328 150 1082.328 158 1077 158 C 1071.672 158 1071.672 150 1077 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 1035 150 C 1040.328 150 1040.328 158 1035 158 C 1029.672 158 1029.672 150 1035 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 993 150 C 998.328 150 998.328 158 993 158 C 987.672 158 987.672 150 993 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 951 150 C 956.328 150 956.328 158 951 158 C 945.672 158 945.672 150 951 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 908 150 C 913.328 150 913.328 158 908 158 C 902.672 158 902.672 150 908 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 866 150 C 871.328 150 871.328 158 866 158 C 860.672 158 860.672 150 866 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 824 150 C 829.328 150 829.328 158 824 158 C 818.672 158 818.672 150 824 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 781 150 C 786.328 150 786.328 158 781 158 C 775.672 158 775.672 150 781 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 739 150 C 744.328 150 744.328 158 739 158 C 733.672 158 733.672 150 739 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 697 150 C 702.328 150 702.328 158 697 158 C 691.672 158 691.672 150 697 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 655 150 C 660.328 150 660.328 158 655 158 C 649.672 158 649.672 150 655 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 612 150 C 617.328 150 617.328 158 612 158 C 606.672 158 606.672 150 612 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 570 150 C 575.328 150 575.328 158 570 158 C 564.672 158 564.672 150 570 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 528 150 C 533.328 150 533.328 158 528 158 C 522.672 158 522.672 150 528 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 486 150 C 491.328 150 491.328 158 486 158 C 480.672 158 480.672 150 486 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 443 150 C 448.328 150 448.328 158 443 158 C 437.672 158 437.672 150 443 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 401 150 C 406.328 150 406.328 158 401 158 C 395.672 158 395.672 150 401 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 359 150 C 364.328 150 364.328 158 359 158 C 353.672 158 353.672 150 359 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 317 150 C 322.328 150 322.328 158 317 158 C 311.672 158 311.672 150 317 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 274 150 C 279.328 150 279.328 158 274 158 C 268.672 158 268.672 150 274 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 232 150 C 237.328 150 237.328 158 232 158 C 226.672 158 226.672 150 232 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 190 150 C 195.328 150 195.328 158 190 158 C 184.672 158 184.672 150 190 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 147 150 C 152.328 150 152.328 158 147 158 C 141.672 158 141.672 150 147 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 105 150 C 110.328 150 110.328 158 105 158 C 99.672 158 99.672 150 105 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 63 150 C 68.328 150 68.328 158 63 158 C 57.672 158 57.672 150 63 150 Z" class="highcharts-point highcharts-color-0"></path><path fill="#7cb5ec" d="M 21 150 C 26.328 150 26.328 158 21 158 C 15.672 158 15.672 150 21 150 Z" class="highcharts-point highcharts-color-0"></path></g></g><g class="highcharts-button highcharts-contextbutton" style="cursor:pointer;" stroke-linecap="round" transform="translate(1302,10)"><title>Chart context menu</title><rect fill="#ffffff" class=" highcharts-button-box" x="0.5" y="0.5" width="24" height="22" rx="2" ry="2" stroke="none" stroke-width="1"></rect><path fill="#666666" d="M 6 6.5 L 20 6.5 M 6 11.5 L 20 11.5 M 6 16.5 L 20 16.5" class="highcharts-button-symbol" stroke="#666666" stroke-width="3"></path><text x="0" style="font-weight:normal;color:#333333;fill:#333333;" y="12"></text></g><g class="highcharts-axis-labels highcharts-xaxis-labels "><text x="79.13333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">1</text><text x="121.4" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">2</text><text x="163.66666666666666" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">3</text><text x="205.93333333333334" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">4</text><text x="248.2" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">5</text><text x="290.4666666666667" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">6</text><text x="332.73333333333335" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">7</text><text x="375" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">8</text><text x="417.26666666666665" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">9</text><text x="459.5333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">10</text><text x="501.80000000000007" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">11</text><text x="544.0666666666667" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">12</text><text x="586.3333333333334" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">13</text><text x="628.6" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">14</text><text x="670.8666666666667" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">15</text><text x="713.1333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">16</text><text x="755.4" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">17</text><text x="797.6666666666666" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">18</text><text x="839.9333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">19</text><text x="882.1999999999999" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">20</text><text x="924.4666666666667" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">21</text><text x="966.7333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">22</text><text x="1008.9999999999999" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">23</text><text x="1051.2666666666667" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">24</text><text x="1093.5333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">25</text><text x="1135.8" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">26</text><text x="1178.0666666666666" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">27</text><text x="1220.3333333333333" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">28</text><text x="1262.6" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">29</text><text x="1304.8666666666666" style="color:#666666;cursor:default;font-size:11px;fill:#666666;" text-anchor="middle" transform="translate(0,0)" y="379" opacity="1">30</text></g><g class="highcharts-axis-labels highcharts-yaxis-labels "><text x="43" style="color:#666666;cursor:default;font-size:11px;fill:#666666;width:431px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" y="209" opacity="1"><tspan>0</tspan></text></g></svg><span style="font-family: &quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif; font-size: 18px; position: absolute; white-space: nowrap; margin-left: 0px; margin-top: 0px; left: 606px; top: 7px; color: rgb(51, 51, 51);" class="highcharts-title" transform="translate(0,0)">热卖商品top30</span></div></div>
            </div>
        </div>

        <script type="text/javascript">
            var saleNumChart, saleUnit,saleTitle,saleMoneyChart,saleMoneyStatistical,saleMoneyTimeStatistical;
            var saleNumStatistical = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            var saleTimeStatistical = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30];
            var saleMoneyStatistical = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            var saleMoneyTimeStatistical = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30];
            $(function() {
                saleNumChart = new Highcharts.Chart("highcharts-2",{
                    title : {
                        text : "热卖商品top30",
                        align : "center",
                        useHTML : true
                    },
                    xAxis : {
                        categories :saleTimeStatistical
                    },
                    lang : {
                        printChart : "打印",
                        downloadPNG : "导出PNG格式图片",
                        downloadJPEG : "导出JPEG格式图片",
                        downloadPDF : "导出PDF格式图片",
                        downloadSVG : "导出SVG格式图片"
                    },
                    yAxis : {
                        title : {
                            text :'元'
                        },
                        plotLines : [ {
                            value : 0,
                            width : 1,
                            color : '#808080'
                        } ]
                    },
                    tooltip : {
                        valueSuffix : "元"
                    },
                    legend : {
                        enabled : false
                    },
                    credits : {
                        enabled : false,// 默认值，如果想去掉版权信息，设置为false即可
                        text : 'Niushop商城', // 显示的文字
                        href : '#', // 链接地址
                    },
                    exporting : {
                        allowHTML : true,
                        buttons : {
                            contextButton : {
                                // text : '导出'
                            }
                        }
                    },
                    series : [ {
                        name : '商品',
                        data : saleNumStatistical
                    }]
                });

                saleMoneyChart = new Highcharts.Chart("highcharts-0",{
                    title : {
                        text : "热卖商品top30",
                        align : "center",
                        useHTML : true
                    },
                    xAxis : {
                        categories : saleMoneyTimeStatistical
                    },
                    lang : {
                        printChart : "打印",
                        downloadPNG : "导出PNG格式图片",
                        downloadJPEG : "导出JPEG格式图片",
                        downloadPDF : "导出PDF格式图片",
                        downloadSVG : "导出SVG格式图片"
                    },
                    yAxis : {
                        title : {
                            text :"件"
                        },
                        plotLines : [ {
                            value : 0,
                            width : 1,
                            color : '#808080'
                        } ]
                    },
                    tooltip : {
                        valueSuffix : "件"
                    },
                    legend : {
                        enabled : false
                    },
                    credits : {
                        enabled : false,// 默认值，如果想去掉版权信息，设置为false即可
                        text : 'Niushop商城', // 显示的文字
                        href : '#', // 链接地址
                    },
                    exporting : {
                        allowHTML : true,
                        buttons : {
                            contextButton : {
                                // text : '导出'
                            }
                        }
                    },
                    series : [ {
                        name : '今日',
                        data : saleMoneyStatistical
                    }]
                });
                getGoodsSalesCharts(1);
            });
            //走势图数据
            var var_type;
            function getGoodsSalesCharts(type){
                if(type == 1){
                    $("#orderamount_div").show();
                    $("#goodsnum_div").hide();
                }else{
                    $("#goodsnum_div").show();
                    $("#orderamount_div").hide();
                }

                var num = type-1;
                $('.option-nav ul li').eq(num).addClass('selected').siblings().removeClass('selected');

                var start_date = $("#start_date").val();
                var end_date = $("#end_date").val();
                var category_id_1=$("#category_id_1").val();
                var category_id_2=$("#category_id_2").val();
                var category_id_3=$("#category_id_3").val();
                var date = $("#date").val();
                //type 走势图类型 2 金额 1 数量
                var_type = type;
                $.ajax({
                    type : "post",
                    url : "http://www.ns.com/index.php?s=/admin/account/getgoodssaleschartcount",
                    data:{ "type":type, "date":date, "category_id_1":category_id_1,"category_id_2":category_id_2,"category_id_3":category_id_3},
                    success : function(data) {
                        if(type == 1){
                            saleUnit = "元";
                            saleNumStatistical = data[0];
                            saleNumChart.update({
                                xAxis : {
                                    categories : saleNumStatistical
                                },
                                tooltip : {
                                    valueSuffix : saleUnit
                                },
                                series : [ {
                                    name : "销售金额",
                                    data : data[1]
                                }],
                                yAxis : {
                                    title : {
                                        text :saleUnit
                                    },
                                    plotLines : [ {
                                        value : 0,
                                        width : 1,
                                        color : '#808080'
                                    } ]
                                },
                            })

                        }else{
                            saleUnit = "件";
                            saleMoneyStatistical = data[0];
                            saleMoneyChart.update({
                                xAxis : {
                                    categories : saleMoneyStatistical
                                },
                                tooltip : {
                                    valueSuffix : saleUnit
                                },
                                series : [ {
                                    name : "销售数量",
                                    data : data[1]
                                }],
                                yAxis : {
                                    title : {
                                        text :saleUnit
                                    },
                                    plotLines : [ {
                                        value : 0,
                                        width : 1,
                                        color : '#808080'
                                    } ]
                                },
                            })

                        }

                    }
                });
            }
            /**
             * 查询商品销售情况
             */
            function searchGoodsSale(){
                getGoodsSalesCharts(var_type);
            }

        </script>

        <script type="text/javascript" src="/static/js/jquery.cookie.js"></script>
        <script src="/static/js/page.js"></script>
        <div class="page" id="turn-ul" style="display: none;">
            <div class="pagination">
                <ul>
                    <li class="according-number">每页显示<input type="text" class="input-medium" id="showNumber" value="14" data-default="14" autocomplete="off">条</li>
                    <li><a id="beginPage" class="page-disable" style="border: 1px solid #dddddd;">首页</a></li>
                    <li><a id="prevPage" class="page-disable">上一页</a></li>
                    <li id="pageNumber"></li>
                    <li id="JslastPage">

                    </li>
                    <li><a id="nextPage">下一页</a></li>
                    <li><a id="lastPage">末页</a></li>
                    <li class="total-data">共0条</li>
                    <!-- <li class="page-count">共0页</li> -->
                    <li class="according-number">
                        跳<input type="text" class="input-medium" id="skipPage" data-curr-page="1">页
                    </li>
                </ul>
            </div>
        </div>
        <input type="hidden" id="page_count">
        <input type="hidden" id="page_size">
        <script>
            /**
             * 保存当前的页面
             * 创建时间：2017年8月30日 19:29:20
             */
            function savePage(index){
                var json = { page_index : index, show_number : $("#showNumber").val(), url :  window.location.href };
                $.cookie('page_cookie',JSON.stringify(json),{ path: '/' });
                //console.log(json);
            }

            $(function() {
                try{

                    $("#turn-ul").show();//显示分页
                    var history_url = "";
                    var json = { page_index : 1, show_number : 14, url :  window.location.href };
                    var history_json = "";//用于临时保存分页数据
                    if($.cookie('page_cookie') != undefined && $.cookie('page_cookie') != "" && $.cookie('page_cookie') != '""'){

                        var cookie = eval("(" + $.cookie('page_cookie') + ")");
                        if(cookie !=undefined && cookie != ""){
                            json.page_index = cookie.page_index;
                            if(cookie.show_number != undefined && cookie.show_number != "") json.show_number = cookie.show_number;
                            else json.show_number = 14;
                            history_url = cookie.url;
                            history_json = cookie;
                        }

                    }else{

                        savePage(json.page_index);

                    }
                    if(history_url != undefined && history_url != "" && history_url != json.url && json.page_index != 1){

                        //如果页面发生了跳转，还原操作
                        json.page_index = 1;
                        json.show_number = 14;
                        json.url = history_url;
                        //console.log("如果页面发生了跳转，还原操作");
                        $.cookie('page_cookie',JSON.stringify(json),{ path: '/' });
                    }

                    //console.log($.cookie('page_cookie'));
                    $("#showNumber").val(json.show_number);
                    if(json.page_index != 1) jumpNumber = json.page_index;
                    LoadingInfo(json.page_index);//通过此方法调用分页类

                }catch(e){

                    $("#turn-ul").hide();
                    //当前页面没有分页，进行还原操作
                    $.cookie('page_cookie',JSON.stringify(history_json),{ path: '/' });
//		console.error(e);
                    //console.log("当前页面没有分页，进行还原操作");
                    //console.log($.cookie('page_cookie'));
                }

                //首页
                $("#beginPage").click(function() {
                    if(jumpNumber!=1){
                        jumpNumber = 1;
                        LoadingInfo(1);
                        savePage(1);
                        changeClass("begin");
                    }
                    return false;
                });

                //上一页
                $("#prevPage").click(function() {
                    var obj = $(".currentPage");
                    var index = parseInt(obj.text()) - 1;
                    if (index > 0) {
                        obj.removeClass("currentPage");
                        obj.prev().addClass("currentPage");
                        jumpNumber = index;
                        LoadingInfo(index);
                        savePage(index);
                        //判断是否是第一页
                        if (index == 1) {
                            changeClass("prev");
                        } else {
                            changeClass();
                        }
                    }
                    return false;
                });

                //下一页
                $("#nextPage").click(function() {
                    var obj = $(".currentPage");
                    //当前页加一（下一页）
                    var index = parseInt(obj.text()) + 1;
                    if (index <= $("#page_count").val()) {
                        jumpNumber = index;
                        LoadingInfo(index);
                        savePage(index);
                        obj.removeClass("currentPage");
                        obj.next().addClass("currentPage");
                        //判断是否是最后一页
                        if (index == $("#page_count").val()) {
                            changeClass("next");
                        } else {
                            changeClass();
                        }
                    }
                    return false;
                });

                //末页
                $("#lastPage").click(function() {
                    jumpNumber = $("#page_count").val();
                    if(jumpNumber>1){
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        $("#pageNumber a:eq("+ (parseInt($("#page_count").val()) - 1) + ")").text($("#page_count").val());
                        changeClass("next");
                    }
                    return false;
                });

                //每页显示页数
                $("#showNumber").blur(function(){
                    if(isNaN($(this).val())){
                        $("#showNumber").val(20);
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if($(this).val().indexOf(".") != -1){
                        var index = $(this).val().indexOf(".");
                        $("#showNumber").val($(this).val().substr(0,index));
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val())<=0){
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    //页数没有变化的话，就不要再执行查询
                    if(parseInt($(this).val()) != $(this).attr("data-default")){
// 			jumpNumber = 1;//设置每页显示的页数，并且设置到第一页
                        $(this).attr("data-default",$(this).val());
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                    }
                    return false;
                }).keyup(function(event){
                    if(event.keyCode == 13){
                        if(isNaN($(this).val())){
                            $("#showNumber").val(20);
                            jumpNumber = 1;
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                        }
                        //页数没有变化的话，就不要再执行查询
                        if(parseInt($(this).val()) != $(this).attr("data-default")){
// 				jumpNumber = 1;//设置每页显示的页数，并且设置到第一页
                            $(this).attr("data-default",$(this).val());
                            //总数据数量
                            var total_count = parseInt($(".total-data").attr("data-total-count"));
                            //计算用户输入的页数是否超过当前页数
                            var curr_count = Math.ceil(total_count/parseInt($(this).val()));
                            if( curr_count !=0 && curr_count < jumpNumber){
                                jumpNumber = curr_count;//输入的页数超过了，没有那么多
                            }
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                        }
                    }
                    return false;
                });

                // 跳转到某页
                $("#skipPage").blur(function(){
                    if(isNaN($(this).val()) || $(this).val().length == 0){
                        $("#showNumber").val(20);
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val())<=0){
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val()) > $("#page_count").val()){
                        jumpNumber = $("#page_count").val();
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        $(this).val(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val()) == parseInt($(this).attr("data-curr-page"))){
                        return;
                    }
                    jumpNumber = $(this).val();
                    LoadingInfo(jumpNumber);
                    savePage(jumpNumber);
                }).keyup(function(event){
                    if(event.keyCode == 13){
                        if(isNaN($(this).val())){
                            $("#showNumber").val(20);
                            jumpNumber = 1;
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                        }
                        if(parseInt($(this).val())<=0){
                            jumpNumber = 1;
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                            return;
                        }
                        if(parseInt($(this).val()) > $("#page_count").val()){
                            jumpNumber = $("#page_count").val();
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                            $(this).val(jumpNumber);
                            return;
                        }
                        if(parseInt($(this).val()) == parseInt($(this).attr("data-curr-page"))){
                            return;
                        }
                        jumpNumber = $(this).val();
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                    }
                    return false;
                });
            });

            //跳转页面
            function JumpForPage(obj) {
                jumpNumber = $(obj).text();
                LoadingInfo($(obj).text());
                savePage($(obj).text());
                $(".currentPage").removeClass("currentPage");
                $(obj).addClass("currentPage");
                if (jumpNumber == 1) {
                    changeClass("prev");
                } else if (jumpNumber < parseInt($("#page_count").val())) {
                    changeClass();
                } else if (jumpNumber == parseInt($("#page_count").val())) {
                    changeClass("next");
                }
            }
        </script>
    </div>

</section>