
<section class="ns-base-section">



    <div style="position:relative;margin:0;">
        <!-- 面包屑导航 -->
        <div class="breadcrumb-nav">
            <a href="http://www.ns.com/index.php?s=/admin">Niushop开源商城</a>
            <i class="fa fa-angle-right"></i>
            <a href="http://www.ns.com/index.php?s=/admin/config/usernotice">网站</a>
            <i class="fa fa-angle-right"></i>
            <!-- 需要加跳转链接用这个：http://www.ns.com/index.php/admin/config/helpdocument -->
            <a href="javascript:;" style="color:#999;">帮助内容</a>
        </div>
        <!-- 三级导航菜单 -->

        <nav class="ns-third-menu">
            <ul>
                <li class="selected" onclick="location.href='http://www.ns.com/index.php?s=/admin/config/helpdocument';">帮助内容</li>
                <li onclick="location.href='http://www.ns.com/index.php?s=/admin/config/helpclass';">帮助类型</li>
            </ul>
        </nav>

        <div class="right-side-operation">
            <ul>


                <!-- 					style="display:none;" style="display:block;" -->
                <li>
                    <a class="js-open-warmp-prompt" href="javascript:;" data-menu-desc=""><i class="fa fa-question-circle"></i>&nbsp;提示</a>
                    <div class="popover">
                        <div class="arrow"></div>
                        <div class="popover-content">
                            <div>
                                <h4>操作提示</h4>
                                <p>相关教程：<a href="http://bbs.niushop.com.cn/forum.php?mod=viewthread&amp;tid=2380&amp;extra=page%3D1" target="_blank">http://bbs.niushop.com.cn/forum.php?mod=viewthread&amp;tid=2380&amp;extra=page%3D1</a></p>
                                <hr>
                                <h4>功能提示</h4>
                                <p class="function-prompts"></p>
                            </div>
                        </div>
                    </div>
                </li>

            </ul>
        </div>
    </div>

    <!-- 操作提示 -->

    <!-- 		 -->
    <div class="ns-warm-prompt" style="display:none;">
        <div class="alert alert-info">
            <button type="button" class="close">×</button>
            <h4>
                <!-- 					{1block name="alert_info"} -->
                <!-- 					<i class="fa fa-info-circle"></i> -->
                <!-- 					<span class="operating-hints">操作提示</span> -->
                <!-- 						 -->
                <!-- 						<span>相关教程：<a href="http://bbs.niushop.com.cn/forum.php?mod=viewthread&tid=2380&extra=page%3D1" target="_blank">http://bbs.niushop.com.cn/forum.php?mod=viewthread&tid=2380&extra=page%3D1</a></span> -->
                <!-- 						 -->
                <!-- 					{1/block} -->
            </h4>
        </div>
    </div>


    <div class="ns-main">

        <div class="options-btn">
            <button class="btn-common-delete" onclick="batchDelete()">批量删除</button>
            <button class="btn-common" onclick="location.href='http://www.ns.com/index.php?s=/admin/config/adddocument';">添加帮助内容</button>
        </div>
        <table class="table-class">
            <colgroup>
                <col style="width: 2%">
                <col style="width: 60%;">
                <col style="width: 19%;">
                <col style="width: 4%;">
                <col style="width: 15%">
            </colgroup>
            <thead>
            <tr align="center">
                <th><i class="checkbox-common"><input type="checkbox" onclick="CheckAll(this)"></i></th>
                <th align="left">标题</th>
                <th>分类</th>
                <th>排序</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody id="linkList"><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="1"></i></td><td align="left"><input type="text" id="title0" value="购物流程" onchange="updateDocument(1,0,1)" class="input-common"></td><td>新手上路</td><td><input type="number" min="0" value="0" class="num input-common input-common-sort" onchange="updateDocument(1,0,1)" id="sort0"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=1">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(1)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=1&amp;class_id=1" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="17"></i></td><td align="left"><input type="text" id="title1" value="用户注册协议" onchange="updateDocument(17,1,6)" class="input-common"></td><td>-</td><td><input type="number" min="0" value="0" class="num input-common input-common-sort" onchange="updateDocument(17,1,6)" id="sort1"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=17">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(17)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=17&amp;class_id=6" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="3"></i></td><td align="left"><input type="text" id="title2" value="售后流程" onchange="updateDocument(3,2,3)" class="input-common"></td><td>会员中心</td><td><input type="number" min="0" value="1" class="num input-common input-common-sort" onchange="updateDocument(3,2,3)" id="sort2"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=3">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(3)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=3&amp;class_id=3" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="13"></i></td><td align="left"><input type="text" id="title3" value="订购方式" onchange="updateDocument(13,3,13)" class="input-common"></td><td>-</td><td><input type="number" min="0" value="2" class="num input-common input-common-sort" onchange="updateDocument(13,3,13)" id="sort3"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=13">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(13)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=13&amp;class_id=13" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="7"></i></td><td align="left"><input type="text" id="title4" value="货到付款区域" onchange="updateDocument(7,4,2)" class="input-common"></td><td>配送与支付</td><td><input type="number" min="0" value="3" class="num input-common input-common-sort" onchange="updateDocument(7,4,2)" id="sort4"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=7">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(7)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=7&amp;class_id=2" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="8"></i></td><td align="left"><input type="text" id="title5" value="配送支付智能查询" onchange="updateDocument(8,5,2)" class="input-common"></td><td>配送与支付</td><td><input type="number" min="0" value="4" class="num input-common input-common-sort" onchange="updateDocument(8,5,2)" id="sort5"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=8">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(8)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=8&amp;class_id=2" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="2"></i></td><td align="left"><input type="text" id="title6" value="支付方式说明" onchange="updateDocument(2,6,2)" class="input-common"></td><td>配送与支付</td><td><input type="number" min="0" value="5" class="num input-common input-common-sort" onchange="updateDocument(2,6,2)" id="sort6"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=2">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(2)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=2&amp;class_id=2" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="5"></i></td><td align="left"><input type="text" id="title7" value="资金管理" onchange="updateDocument(5,7,3)" class="input-common"></td><td>会员中心</td><td><input type="number" min="0" value="6" class="num input-common input-common-sort" onchange="updateDocument(5,7,3)" id="sort7"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=5">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(5)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=5&amp;class_id=3" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="6"></i></td><td align="left"><input type="text" id="title8" value="我的收藏" onchange="updateDocument(6,8,3)" class="input-common"></td><td>会员中心</td><td><input type="number" min="0" value="7" class="num input-common input-common-sort" onchange="updateDocument(6,8,3)" id="sort8"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=6">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(6)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=6&amp;class_id=3" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="14"></i></td><td align="left"><input type="text" id="title9" value="我的订单" onchange="updateDocument(14,9,3)" class="input-common"></td><td>会员中心</td><td><input type="number" min="0" value="8" class="num input-common input-common-sort" onchange="updateDocument(14,9,3)" id="sort9"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=14">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(14)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=14&amp;class_id=3" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="9"></i></td><td align="left"><input type="text" id="title10" value="退换货原则" onchange="updateDocument(9,10,4)" class="input-common"></td><td>服务保证</td><td><input type="number" min="0" value="9" class="num input-common input-common-sort" onchange="updateDocument(9,10,4)" id="sort10"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=9">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(9)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=9&amp;class_id=4" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="10"></i></td><td align="left"><input type="text" id="title11" value="售后服务保证" onchange="updateDocument(10,11,4)" class="input-common"></td><td>服务保证</td><td><input type="number" min="0" value="9" class="num input-common input-common-sort" onchange="updateDocument(10,11,4)" id="sort11"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=10">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(10)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=10&amp;class_id=4" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="11"></i></td><td align="left"><input type="text" id="title12" value="产品质量保证" onchange="updateDocument(11,12,4)" class="input-common"></td><td>服务保证</td><td><input type="number" min="0" value="10" class="num input-common input-common-sort" onchange="updateDocument(11,12,4)" id="sort12"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=11">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(11)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=11&amp;class_id=4" target="_blank">预览</a></td></tr><tr align="center"><td><i class="checkbox-common"><input name="sub" type="checkbox" value="12"></i></td><td align="left"><input type="text" id="title13" value="网站故障报告" onchange="updateDocument(12,13,5)" class="input-common"></td><td>联系我们</td><td><input type="number" min="0" value="11" class="num input-common input-common-sort" onchange="updateDocument(12,13,5)" id="sort13"></td><td><a href="http://www.ns.com/index.php?s=/admin/config/updatedocument&amp;id=12">修改</a>&nbsp;&nbsp;<a href="javascript:help_delete(12)">删除</a>&nbsp;&nbsp;<a href="http://www.ns.com/index.php?s=/helpcenter/index&amp;id=12&amp;class_id=5" target="_blank">预览</a></td></tr></tbody>
        </table>

        <script type="text/javascript" src="/static/js/jquery.cookie.js"></script>
        <script src="/static/js/page.js"></script>
        <div class="page" id="turn-ul" style="">
            <div class="pagination">
                <ul>
                    <li class="according-number">每页显示<input type="text" class="input-medium" id="showNumber" value="14" data-default="14" autocomplete="off">条</li>
                    <li><a id="beginPage" class="page-disable" style="border: 1px solid #dddddd;">首页</a></li>
                    <li><a id="prevPage" class="page-disable">上一页</a></li>
                    <li id="pageNumber"><a onclick="JumpForPage(this)" class="currentPage">1</a><a onclick="JumpForPage(this)">2</a></li>
                    <li id="JslastPage">

                    </li>
                    <li><a id="nextPage">下一页</a></li>
                    <li><a id="lastPage">末页</a></li>
                    <li class="total-data" data-total-count="16">共16条</li>
                    <!-- <li class="page-count">共0页</li> -->
                    <li class="according-number">
                        跳<input type="text" class="input-medium" id="skipPage" data-curr-page="1">页
                    </li>
                </ul>
            </div>
        </div>
        <input type="hidden" id="page_count" value="2">
        <input type="hidden" id="page_size" value="14">
        <script>
            /**
             * 保存当前的页面
             * 创建时间：2017年8月30日 19:29:20
             */
            function savePage(index){
                var json = { page_index : index, show_number : $("#showNumber").val(), url :  window.location.href };
                $.cookie('page_cookie',JSON.stringify(json),{ path: '/' });
                //console.log(json);
            }

            $(function() {
                try{

                    $("#turn-ul").show();//显示分页
                    var history_url = "";
                    var json = { page_index : 1, show_number : 14, url :  window.location.href };
                    var history_json = "";//用于临时保存分页数据
                    if($.cookie('page_cookie') != undefined && $.cookie('page_cookie') != "" && $.cookie('page_cookie') != '""'){

                        var cookie = eval("(" + $.cookie('page_cookie') + ")");
                        if(cookie !=undefined && cookie != ""){
                            json.page_index = cookie.page_index;
                            if(cookie.show_number != undefined && cookie.show_number != "") json.show_number = cookie.show_number;
                            else json.show_number = 14;
                            history_url = cookie.url;
                            history_json = cookie;
                        }

                    }else{

                        savePage(json.page_index);

                    }
                    if(history_url != undefined && history_url != "" && history_url != json.url && json.page_index != 1){

                        //如果页面发生了跳转，还原操作
                        json.page_index = 1;
                        json.show_number = 14;
                        json.url = history_url;
                        //console.log("如果页面发生了跳转，还原操作");
                        $.cookie('page_cookie',JSON.stringify(json),{ path: '/' });
                    }

                    //console.log($.cookie('page_cookie'));
                    $("#showNumber").val(json.show_number);
                    if(json.page_index != 1) jumpNumber = json.page_index;
                    LoadingInfo(json.page_index);//通过此方法调用分页类

                }catch(e){

                    $("#turn-ul").hide();
                    //当前页面没有分页，进行还原操作
                    $.cookie('page_cookie',JSON.stringify(history_json),{ path: '/' });
//		console.error(e);
                    //console.log("当前页面没有分页，进行还原操作");
                    //console.log($.cookie('page_cookie'));
                }

                //首页
                $("#beginPage").click(function() {
                    if(jumpNumber!=1){
                        jumpNumber = 1;
                        LoadingInfo(1);
                        savePage(1);
                        changeClass("begin");
                    }
                    return false;
                });

                //上一页
                $("#prevPage").click(function() {
                    var obj = $(".currentPage");
                    var index = parseInt(obj.text()) - 1;
                    if (index > 0) {
                        obj.removeClass("currentPage");
                        obj.prev().addClass("currentPage");
                        jumpNumber = index;
                        LoadingInfo(index);
                        savePage(index);
                        //判断是否是第一页
                        if (index == 1) {
                            changeClass("prev");
                        } else {
                            changeClass();
                        }
                    }
                    return false;
                });

                //下一页
                $("#nextPage").click(function() {
                    var obj = $(".currentPage");
                    //当前页加一（下一页）
                    var index = parseInt(obj.text()) + 1;
                    if (index <= $("#page_count").val()) {
                        jumpNumber = index;
                        LoadingInfo(index);
                        savePage(index);
                        obj.removeClass("currentPage");
                        obj.next().addClass("currentPage");
                        //判断是否是最后一页
                        if (index == $("#page_count").val()) {
                            changeClass("next");
                        } else {
                            changeClass();
                        }
                    }
                    return false;
                });

                //末页
                $("#lastPage").click(function() {
                    jumpNumber = $("#page_count").val();
                    if(jumpNumber>1){
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        $("#pageNumber a:eq("+ (parseInt($("#page_count").val()) - 1) + ")").text($("#page_count").val());
                        changeClass("next");
                    }
                    return false;
                });

                //每页显示页数
                $("#showNumber").blur(function(){
                    if(isNaN($(this).val())){
                        $("#showNumber").val(20);
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if($(this).val().indexOf(".") != -1){
                        var index = $(this).val().indexOf(".");
                        $("#showNumber").val($(this).val().substr(0,index));
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val())<=0){
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    //页数没有变化的话，就不要再执行查询
                    if(parseInt($(this).val()) != $(this).attr("data-default")){
// 			jumpNumber = 1;//设置每页显示的页数，并且设置到第一页
                        $(this).attr("data-default",$(this).val());
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                    }
                    return false;
                }).keyup(function(event){
                    if(event.keyCode == 13){
                        if(isNaN($(this).val())){
                            $("#showNumber").val(20);
                            jumpNumber = 1;
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                        }
                        //页数没有变化的话，就不要再执行查询
                        if(parseInt($(this).val()) != $(this).attr("data-default")){
// 				jumpNumber = 1;//设置每页显示的页数，并且设置到第一页
                            $(this).attr("data-default",$(this).val());
                            //总数据数量
                            var total_count = parseInt($(".total-data").attr("data-total-count"));
                            //计算用户输入的页数是否超过当前页数
                            var curr_count = Math.ceil(total_count/parseInt($(this).val()));
                            if( curr_count !=0 && curr_count < jumpNumber){
                                jumpNumber = curr_count;//输入的页数超过了，没有那么多
                            }
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                        }
                    }
                    return false;
                });

                // 跳转到某页
                $("#skipPage").blur(function(){
                    if(isNaN($(this).val()) || $(this).val().length == 0){
                        $("#showNumber").val(20);
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val())<=0){
                        jumpNumber = 1;
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val()) > $("#page_count").val()){
                        jumpNumber = $("#page_count").val();
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                        $(this).val(jumpNumber);
                        return;
                    }
                    if(parseInt($(this).val()) == parseInt($(this).attr("data-curr-page"))){
                        return;
                    }
                    jumpNumber = $(this).val();
                    LoadingInfo(jumpNumber);
                    savePage(jumpNumber);
                }).keyup(function(event){
                    if(event.keyCode == 13){
                        if(isNaN($(this).val())){
                            $("#showNumber").val(20);
                            jumpNumber = 1;
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                        }
                        if(parseInt($(this).val())<=0){
                            jumpNumber = 1;
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                            return;
                        }
                        if(parseInt($(this).val()) > $("#page_count").val()){
                            jumpNumber = $("#page_count").val();
                            LoadingInfo(jumpNumber);
                            savePage(jumpNumber);
                            $(this).val(jumpNumber);
                            return;
                        }
                        if(parseInt($(this).val()) == parseInt($(this).attr("data-curr-page"))){
                            return;
                        }
                        jumpNumber = $(this).val();
                        LoadingInfo(jumpNumber);
                        savePage(jumpNumber);
                    }
                    return false;
                });
            });

            //跳转页面
            function JumpForPage(obj) {
                jumpNumber = $(obj).text();
                LoadingInfo($(obj).text());
                savePage($(obj).text());
                $(".currentPage").removeClass("currentPage");
                $(obj).addClass("currentPage");
                if (jumpNumber == 1) {
                    changeClass("prev");
                } else if (jumpNumber < parseInt($("#page_count").val())) {
                    changeClass();
                } else if (jumpNumber == parseInt($("#page_count").val())) {
                    changeClass("next");
                }
            }
        </script>
    </div>

</section>